(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8619)}])},8619:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var r=n(5893),a=n(9008),s=n(214),i=n.n(s),u=n(4051),o=n.n(u),c=n(7294),l=n(1707);function p(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}var d=function(e){var t=(0,l.t)().accountInfo,n=(0,c.useState)({isProcessing:!1,message:""}),a=n[0],s=n[1],i=(0,c.useState)({isProcessing:!1,message:""}),u=i[0],d=i[1],y=e.tokenName,m=e.description,f=e.sellerAddress,x=e.lastBidderAddress,h=e.tokenImageUri,b=e.startPrice,v=e.actualPrice,w=e.fixedPrice,g=e.endTime,T=e.status,k=e.orderIndex,j=e.orderId,N=e.openOffer,I=e.claim,C=e.cancelOrder,P=e.fetchOrders,M=function(){var e,t=(e=o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.currentTarget.id,e.t0=n,e.next="bid"===e.t0?4:"buyItNow"===e.t0?6:"claim"===e.t0?8:"cancel"===e.t0?15:22;break;case 4:case 6:return N(k,n),e.abrupt("break",22);case 8:return d({isProcessing:!0,message:"...processing"}),e.next=11,I(j);case 11:return r=e.sent,s({isProcessing:!0,message:r}),setTimeout((function(){return P()}),2e3),e.abrupt("break",22);case 15:return s({isProcessing:!0,message:"...processing"}),e.next=18,C(j);case 18:return a=e.sent,s({isProcessing:!0,message:a}),setTimeout((function(){return P()}),2e3),e.abrupt("break",22);case 22:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){p(s,r,a,i,u,"next",e)}function u(e){p(s,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"max-w-sm text-center rounded overflow-hidden m-4 shadow-lg divide-y",children:[(0,r.jsxs)("div",{className:"m-2 p-0",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600 mr-2",children:["Status: ",(0,r.jsx)("span",{className:"font-semibold uppercase",children:T})]}),t.address==f&&"active"==T?a.isProcessing?(0,r.jsx)("span",{className:"text-sm text-red-700 mr-2",children:a.message}):(0,r.jsx)("button",{id:"cancel",onClick:M,className:"w-32 bg-red-500 hover:bg-red-700 text-white font-bold rounded-full",children:"Cancel"}):null,(0,r.jsxs)("p",{className:"text-sm text-gray-700 m-2",children:["EndTime: ",(0,r.jsx)("span",{className:"font-semibold",children:g})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"py-2 font-bold text-xl text-center mb-0",children:y}),(0,r.jsx)("img",{className:"m-auto px-2",src:h,alt:"crypto1"}),(0,r.jsx)("p",{className:"text-gray-700 px-2 py-2 text-base",children:m})]}),(0,r.jsxs)("div",{className:"flex flex-col px-6 py-4",children:[(0,r.jsxs)("p",{className:"text-xs text-gray-700 mb-2",children:["Initial Price: ",(0,r.jsxs)("span",{className:"font-semibold",children:["0.0"!=b?b:w,"ETH"]})," "]}),(0,r.jsxs)("span",{className:"text-gray-700 mr-2 mb-0",children:["Actual price: ",(0,r.jsxs)("span",{className:"font-semibold",children:[v," ETH"]})," "]})]}),(0,r.jsxs)("div",{children:[t.address!=f&&t.address!=x||"over"!=T?null:u.isProcessing?(0,r.jsx)("span",{className:"text-sm text-green-600 mr-2",children:u.message}):(0,r.jsx)("button",{id:"claim",onClick:M,className:"w-40 bg-green-500 hover:bg-green-700 text-white font-bold mx-4 my-2 py-2 px-4 rounded-full",children:"CLAIM"}),"0.0"!=b&&"active"==T?(0,r.jsx)("button",{id:"bid",onClick:M,className:"w-40 bg-blue-500 hover:bg-blue-700 text-white font-bold mx-1 my-2 py-2 rounded-full",children:"BID"}):null,"0.0"!=w&&"active"==T?(0,r.jsxs)("button",{id:"buyItNow",onClick:M,className:"bg-blue-500 hover:bg-blue-700 text-white font-semibold mx-4 my-2 py-2 px-4 rounded-full",children:["BUY for ",w," ETH"]}):null]}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-xs italic text-gray-700 m-2",children:["Seller address: ",(0,r.jsx)("span",{className:"font-semibold",children:f})]})})]})},y=n(9572),m=n(241);function f(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){f(s,r,a,i,u,"next",e)}function u(e){f(s,r,a,i,u,"throw",e)}i(void 0)}))}}var h=function(){var e=x(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.ethereum||!window.ethereum.isMetaMask){e.next=3;break}throw new Error("no metamask installed");case 3:if(t=new m.Q(window.ethereum)){e.next=6;break}throw new Error("No valid provider availble");case 6:return e.next=8,t.send("eth_requestAccounts",[]);case 8:return n=t.getSigner(),e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),console.log("connection to metamask error",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=x(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=new m.Q(window.ethereum)){e.next=4;break}throw new Error("no connection to metamask");case 4:return n=t.getSigner(),e.next=7,n.getAddress();case 7:return e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log("no connection to metamask"),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=x(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=y,e.next=4,t.getBalance();case 4:return e.t1=e.sent,n=e.t0.formatEther.call(e.t0,e.t1),e.abrupt("return",n.toString());case 9:return e.prev=9,e.t2=e.catch(0),console.log("error on check ballance",e.t2),e.abrupt("return","Error on check ballance");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function w(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){w(s,r,a,i,u,"next",e)}function u(e){w(s,r,a,i,u,"throw",e)}i(void 0)}))}}var T=n(6727),k=n(3153),j=[{name:"Auction Order",icon:function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"black",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"})})},type:"auction"},{name:"Fixed Price Order",icon:function(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"black",children:[(0,r.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})},type:"fixed"},{name:"Mixed Order",icon:function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"black",children:(0,r.jsx)("path",{d:"M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"})})},type:"mixed"}];function N(e){var t=e.openMakeOrder;return(0,r.jsx)("div",{children:(0,r.jsx)(T.J2,{children:function(e){var n=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(T.J2.Button,{className:"\n                ".concat(n?"":"text-opacity-90",'\n                flex items-center text-xl px-4 py-2 leading-none border rounded shadow-lg shadow-red-800 text-white border-red-500 hover:bg-white hover:bg-opacity-30 lg:mt-0">\n                '),children:[(0,r.jsx)("span",{children:"Make Order"}),(0,r.jsx)(k.v4q,{className:"".concat(n?"":"text-opacity-70","\n                  ml-2 h-5 w-5 text-red-400 group-hover:text-opacity-80 transition ease-in-out duration-150"),"aria-hidden":"true"})]}),(0,r.jsx)(T.uT,{as:c.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,r.jsx)(T.J2.Panel,{className:"absolute z-10 right-5 w-screen max-w-sm px-4 mt-3",children:(0,r.jsx)("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:(0,r.jsx)("div",{className:"relative grid gap-8 bg-white p-7",children:j.map((function(e){return(0,r.jsxs)("a",{onClick:function(){return t(e.type)},className:"flex items-center p-2 -m-3 transition duration-150 ease-in-out rounded-lg hover:bg-gray-50 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50",children:[(0,r.jsx)("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-white sm:h-12 sm:w-12",children:(0,r.jsx)(e.icon,{"aria-hidden":"true"})}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name})})]},e.name)}))})})})})]})}})})}var I=n(5948),C=n(4146),P=JSON.parse('{"Mt":[{"inputs":[{"internalType":"address payable","name":"admin","type":"address"},{"internalType":"uint256","name":"mintPrice","type":"uint256"},{"internalType":"uint256","name":"defaultRoyalty","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"contract IERC721","name":"nftContract","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"string","name":"uri","type":"string"}],"name":"_mintIfHaveToken","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"address","name":"_approved","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getMintPrice","outputs":[{"internalType":"uint256","name":"price","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"address","name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address[]","name":"to","type":"address[]"},{"internalType":"uint256[]","name":"tokenId","type":"uint256[]"},{"internalType":"string[]","name":"uri","type":"string[]"},{"internalType":"uint256[]","name":"royalties","type":"uint256[]"}],"name":"mintMultiple","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"mintYourToken","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"royaltyAmount","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"uri","type":"string"},{"internalType":"uint256","name":"royalties","type":"uint256"}],"name":"safeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"price","type":"uint256"}],"name":"setMintPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC721","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"setRequiredForMintToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"baseUri","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"getTokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"setDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getDefaultRoyalty","outputs":[{"internalType":"uint256","name":"defaultRoyalty","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"changeTokenRoyaly","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"pure","type":"function","constant":true}]}');function M(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){M(s,r,a,i,u,"next",e)}function u(e){M(s,r,a,i,u,"throw",e)}i(void 0)}))}}var _=function(e){var t=I.yl("rinkeby",{etherscan:"C5D3Q7PU675DJVJDFQFFA21W9WM46273KN"}),n=new C.CH(e,P.Mt,t);function r(){return(r=O(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTokenURI(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=O(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ownerOf(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=O(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getApproved(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=O(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.isApprovedForAll(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{getTokenURI:function(e){return r.apply(this,arguments)},ownerOf:function(e){return a.apply(this,arguments)},getApproved:function(e){return s.apply(this,arguments)},isApprovedForAll:function(e,t){return i.apply(this,arguments)}}},A=n(5553),F=JSON.parse('{"iF":"0xb2EC19df33422012F3E750AE1e7255a2CF93e029","Mt":[{"inputs":[{"internalType":"uint16","name":"_feePercent","type":"uint16"},{"internalType":"uint16","name":"_royaltyFeePercent","type":"uint16"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC721","name":"tokenContract","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"orderId","type":"bytes32"},{"indexed":false,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"bidPrice","type":"uint256"}],"name":"Bid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC721","name":"tokenContract","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"orderId","type":"bytes32"},{"indexed":false,"internalType":"address","name":"seller","type":"address"}],"name":"CancelOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC721","name":"tokenContract","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"orderId","type":"bytes32"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"address","name":"taker","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"Claim","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IERC721","name":"tokenContract","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"orderId","type":"bytes32"},{"indexed":false,"internalType":"address","name":"seller","type":"address"},{"indexed":true,"internalType":"uint8","name":"orderType","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"startPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"buyItNowPrice","type":"uint256"}],"name":"MakeOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Received","type":"event"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_newAdmin","type":"address"}],"name":"changeAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeAddress","type":"address"}],"name":"changeFeeAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_percent","type":"uint16"}],"name":"changeFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feeAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"feePercent","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"orderBook","outputs":[{"internalType":"enum DEX_Internal.OrderType","name":"orderType","type":"uint8"},{"internalType":"enum DEX_Internal.OrderStatus","name":"status","type":"uint8"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"contract IERC721","name":"tokenContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"fixedPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"lastBidPrice","type":"uint256"},{"internalType":"address","name":"lastBidder","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"orderIdBySeller","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"contract IERC721","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"orderIdByToken","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"orderList","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"royaltyFeePercent","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function","constant":true},{"stateMutability":"payable","type":"receive","payable":true},{"inputs":[{"internalType":"contract IERC721","name":"_token","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_startPrice","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"makeAuctionOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC721","name":"_token","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_fixedPrice","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"makeFixedPriceOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC721","name":"_token","type":"address"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"uint256","name":"_startPrice","type":"uint256"},{"internalType":"uint256","name":"_fixedPrice","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"}],"name":"makeMixedOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"getCurrentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"getOrderStatus","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getOrdersList","outputs":[{"internalType":"bytes32[]","name":"","type":"bytes32[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"getOrderInfo","outputs":[{"components":[{"internalType":"contract IERC721","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"tokenMetadataURI","type":"string"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"fixedPrice","type":"uint256"},{"internalType":"uint256","name":"actualPrice","type":"uint256"},{"internalType":"address","name":"lastBidder","type":"address"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"internalType":"struct DEX_Internal.OrderInfo","name":"orderInfo","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_seller","type":"address"}],"name":"sellerTotalOrder","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"bid","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"buyItNow","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_order","type":"bytes32"}],"name":"cancelOrder","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),E=n(1169);function S(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){S(s,r,a,i,u,"next",e)}function u(e){S(s,r,a,i,u,"throw",e)}i(void 0)}))}}var B=function(e){function t(){return(t=R(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOrdersList();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=R(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOrderInfo(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(){return(r=R(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentPrice(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=R(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getOrderStatus(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=R(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sellerTotalOrder(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{getOrdersList:function(){return t.apply(this,arguments)},getOrderInfo:function(e){return n.apply(this,arguments)},getCurrentPrice:function(e){return r.apply(this,arguments)},getOrderStatus:function(e){return a.apply(this,arguments)},sellerTotalOrder:function(e){return s.apply(this,arguments)}}};function D(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){D(s,r,a,i,u,"next",e)}function u(e){D(s,r,a,i,u,"throw",e)}i(void 0)}))}}var z=function(e){function t(){return(t=H(o().mark((function t(n,r,a,s){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.makeAuctionOrder(n,r,A.vz(a),s);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=H(o().mark((function t(n,r,a,s){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.makeFixedPriceOrder(n,r,A.vz(a),s);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(){return(r=H(o().mark((function t(n,r,a,s,i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.makeMixedOrder(n,r,A.vz(a),A.vz(s),i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=H(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.bid(n,{value:A.vz(r)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=H(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buyItNow(n,{value:A.vz(r)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=H(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.claim(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return(u=H(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cancelOrder(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{makeAuctionOrder:function(e,n,r,a){return t.apply(this,arguments)},makeFixedPriceOrder:function(e,t,r,a){return n.apply(this,arguments)},makeMixedOrder:function(e,t,n,a,s){return r.apply(this,arguments)},bid:function(e,t){return a.apply(this,arguments)},buyItNow:function(e,t){return s.apply(this,arguments)},claim:function(e){return i.apply(this,arguments)},cancelOrder:function(e){return u.apply(this,arguments)}}};function U(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){U(s,r,a,i,u,"next",e)}function u(e){U(s,r,a,i,u,"throw",e)}i(void 0)}))}}function L(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}var q=function(){var e=I.yl("rinkeby"),t=new C.CH(F.iF,F.Mt,e),n=(0,c.useState)(t),r=n[0],a=n[1],s=(0,l.t)().signer,i=(0,E.k)().setOrders;function u(){return p.apply(this,arguments)}function p(){return(p=V(o().mark((function e(){var t,n,a,s,u,c,l,p,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r){e.next=3;break}throw new Error("no dex contract");case 3:return e.next=5,B(r).getOrdersList();case 5:t=e.sent,n=[],a=!0,s=!1,u=void 0,e.prev=8,c=t[Symbol.iterator]();case 10:if(a=(l=c.next()).done){e.next=21;break}return p=l.value,e.next=14,d(p);case 14:if(!L(y=e.sent,Error)){e.next=17;break}throw y;case 17:n.push(y);case 18:a=!0,e.next=10;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),s=!0,u=e.t0;case 27:e.prev=27,e.prev=28,a||null==c.return||c.return();case 30:if(e.prev=30,!s){e.next=33;break}throw u;case 33:return e.finish(30);case 34:return e.finish(27);case 35:i(n),e.next=41;break;case 38:e.prev=38,e.t1=e.catch(0),console.log("error when fetching orders",e.t1);case 41:case"end":return e.stop()}}),e,null,[[0,38],[8,23,27,35],[28,,30,34]])})))).apply(this,arguments)}function d(e){return y.apply(this,arguments)}function y(){return(y=V(o().mark((function e(t){var n,a,s,i,u,c,l,p,d,y,m,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(r).getOrderInfo(t);case 3:return n=e.sent,e.next=6,B(r).getOrderStatus(t);case 6:return a=e.sent,s=n.tokenMetadataURI,i=n.seller,u=n.startPrice,c=n.fixedPrice,l=n.actualPrice,p=n.lastBidder,d=n.endTime,e.next=10,fetch(s);case 10:return y=e.sent,e.next=13,y.json();case 13:return m=e.sent,f=m.properties,e.abrupt("return",{orderId:t,status:a,sellerAddress:String(i),lastBidderAddress:String(p),tokenName:f.name,description:f.description,tokenImageUri:f.image,startPrice:A.dF(u),actualPrice:A.dF(l),fixedPrice:A.dF(c),endTime:new Date(1e3*Number(d)).toLocaleString()});case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",new Error("error when fetching Order info"));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function m(){return m=V(o().mark((function e(t,n,a,i,c,l){var p,d,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return","no valid dex contract");case 2:if(e.prev=2,s){e.next=5;break}return e.abrupt("return","no signer");case 5:return p=new C.CH(t,P.Mt,s),e.next=8,p.approve(F.iF,n);case 8:return d=e.sent,e.next=11,d.wait();case 11:e.t0=c,e.next="auction"===e.t0?15:"fixed"===e.t0?19:"mixed"===e.t0?23:29;break;case 15:return e.next=17,z(r).makeAuctionOrder(t,n,a,i);case 17:case 21:case 27:return y=e.sent,e.abrupt("break",29);case 19:return e.next=21,z(r).makeFixedPriceOrder(t,n,a,i);case 23:if(l){e.next=25;break}throw new Error("no price for mixed auction");case 25:return e.next=27,z(r).makeMixedOrder(t,n,a,l,i);case 29:return e.next=31,y.wait();case 31:if(1!=e.sent.status){e.next=38;break}return e.next=35,u();case 35:return e.abrupt("return","success");case 38:throw new Error("error");case 39:e.next=45;break;case 41:return e.prev=41,e.t1=e.catch(2),console.log("error when making order",e.t1),e.abrupt("return","erron when making order");case 45:case"end":return e.stop()}}),e,null,[[2,41]])}))),m.apply(this,arguments)}function f(){return(f=V(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(r).bid(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=V(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(r).buyItNow(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=V(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(r).claim(t);case 3:return n=e.sent,e.next=6,n.wait();case 6:if(1!=e.sent.status){e.next=11;break}return e.abrupt("return","sucess");case 11:throw new Error("error on claim");case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("error on claim",e.t0),e.abrupt("return","error");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function b(){return(b=V(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(r).cancelOrder(t);case 3:return n=e.sent,e.next=6,n.wait();case 6:if(1!=e.sent.status){e.next=11;break}return e.abrupt("return","sucess");case 11:throw new Error("error on cancel");case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("error on cancel",e.t0),e.abrupt("return","error");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){s&&a(r.connect(s))}),[s]),(0,c.useEffect)((function(){u()}),[]),{makeOrder:function(e,t,n,r,a,s){return m.apply(this,arguments)},bid:function(e,t){return f.apply(this,arguments)},buyItNow:function(e,t){return x.apply(this,arguments)},claim:function(e){return h.apply(this,arguments)},cancelOrder:function(e){return b.apply(this,arguments)},fetchOrders:u}};function X(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){X(s,r,a,i,u,"next",e)}function u(e){X(s,r,a,i,u,"throw",e)}i(void 0)}))}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){var t=e.setIsOpen,n=e.orderType,r=function(){return m&&("fixed"==n||Number(I.startPrice)>0)&&("auction"==n||Number(I.buyItNowPrice)>0)&&new Date("".concat(I.endDate," ").concat(I.endTime))>new Date},a=function(){d(null),b(""),t(!1)},s=(0,l.t)().accountInfo,i=q().makeOrder,u=(0,c.useState)(null),p=u[0],d=u[1],y=(0,c.useState)(!1),m=y[0],f=y[1],x=(0,c.useState)(""),h=x[0],b=x[1],v=(0,c.useState)(!1),w=v[0],g=v[1],T=(0,c.useState)(null),k=T[0],j=T[1],N=(0,c.useState)({nftAddress:"",tokenId:"",startPrice:"",buyItNowPrice:"",endTime:"",endDate:""}),I=N[0],C=N[1];function P(){return(P=J(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r()){e.next=2;break}return e.abrupt("return");case 2:return t=String(Math.floor((new Date("".concat(I.endDate," ").concat(I.endTime)).getTime()-(new Date).getTime())/1e3)),console.log("durrrration ",t),g(!0),e.next=7,i(I.nftAddress,I.tokenId,"fixed"!=n?I.startPrice:I.buyItNowPrice,t,n,I.buyItNowPrice);case 7:"success"==e.sent?(g(!1),j("success"),setTimeout((function(){return a()}),200)):(g(!1),j("error"),setTimeout((function(){return a()}),200));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=J(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=I.nftAddress&&""!=I.tokenId){e.next=3;break}return d(null),e.abrupt("return");case 3:return e.next=5,O(I.nftAddress,I.tokenId);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return A.apply(this,arguments)}function A(){return(A=J(o().mark((function e(t,n){var r,a,s,i,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get token info..."),e.prev=1,e.next=4,_(t).getTokenURI(n);case 4:return r=e.sent,e.next=7,fetch(r);case 7:return a=e.sent,e.next=10,a.json();case 10:return s=e.sent,i=s.properties,u={tokenName:i.name,description:i.description,sellerAddress:"",tokenImageUri:i.image},e.next=15,F(I.nftAddress,I.tokenId);case 15:c=e.sent,f(c),b(c?"":"You are not allowed to trade with this Token"),d(u),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),d(null),b("No token found"),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}function F(e,t){return E.apply(this,arguments)}function E(){return(E=J(o().mark((function e(t,n){var r,a,i,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t).ownerOf(n);case 2:return r=e.sent,e.next=5,_(t).getApproved(n);case 5:return a=e.sent,e.next=8,_(t).isApprovedForAll(r,s.address);case 8:return i=e.sent,u=String(r)==s.address,c=String(a)==s.address,e.abrupt("return",u||c||i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{inputHandler:function(e){C(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({},I,Y({},e.target.id,e.target.value)))},loadPreview:function(){return M.apply(this,arguments)},makeNewOrder:function(){return P.apply(this,arguments)},closeModal:a,isProcessing:w,orderPreview:p,errorMessage:h,dexMessage:k}};function Q(e){var t=e.isOpen,n=e.setIsOpen,a=e.orderType,s=Z({isOpen:t,setIsOpen:n,orderType:a}),i=s.inputHandler,u=s.loadPreview,o=s.makeNewOrder,l=s.closeModal,p=s.isProcessing,d=s.orderPreview,y=s.errorMessage;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(T.uT,{appear:!0,show:t,as:c.Fragment,children:(0,r.jsx)(T.Vq,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:function(){},children:(0,r.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,r.jsx)(T.uT.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(T.Vq.Overlay,{className:"fixed inset-0"})}),(0,r.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(T.uT.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)("div",{className:"inline-block w-full max-w-xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,r.jsx)(T.Vq.Title,{as:"h3",className:"text-lg text-center font-medium leading-6 text-gray-900",children:"Make Order"}),(0,r.jsxs)("div",{className:"flex flex-row",children:[(0,r.jsxs)("div",{className:"basis-2/4 m-1",children:[(0,r.jsx)("input",{className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"nftAddress",onChange:i,placeholder:"NFT Contract Address"}),(0,r.jsx)("input",{className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"tokenId",onChange:i,onBlur:u,placeholder:"NFT Token ID"}),(0,r.jsx)("input",{className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"startPrice",onChange:i,placeholder:"Start Price"}),(0,r.jsx)("input",{className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"buyItNowPrice",onChange:i,placeholder:"Buy it Now Price"}),(0,r.jsx)("p",{className:" text-gray-500",children:"End Time:"}),(0,r.jsxs)("div",{className:"inline-block",children:[(0,r.jsx)("input",{type:"date",className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"endDate",onChange:i}),(0,r.jsx)("input",{type:"time",className:"m-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"endTime",onChange:i})]})]}),(0,r.jsxs)("div",{className:"basis-2/4 m-1",children:[(0,r.jsx)("p",{className:"mt-12 text-gray-700 text-base",children:y}),d?(0,r.jsxs)("div",{className:"max-w-sm text-center rounded overflow-hidden m-4 shadow-lg",children:[(0,r.jsx)("h3",{className:"p-4 font-bold text-xl text-center m-2",children:d.tokenName}),(0,r.jsx)("img",{className:"px-4",src:d.tokenImageUri,alt:"crypto1"}),(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsx)("p",{className:"text-gray-700 text-base",children:d.description})})]}):null]})]}),p?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("svg",{role:"status",className:"mr-2 w-6 h-6 text-red-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),"Processing..."]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("button",{type:"button",className:"m-5 px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:o,children:"Make Order"}),(0,r.jsx)("button",{type:"button",className:"m-5 px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",onClick:l,children:"Cancel"})]})]})})]})})})})}var W=function(){var e=function(){var e=(0,c.useState)(null),t=e[0],n=e[1],r=(0,c.useState)(!1),a=r[0],s=r[1],i=(0,l.t)().updateAccountInfo,u=(0,l.t)().updateSigner;function p(e){return d.apply(this,arguments)}function d(){return(d=g(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAddress();case 2:return n=e.sent,e.next=5,v(t);case 5:r=e.sent,i({address:n,ballance:r});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=g(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:if(t=e.sent){e.next=6;break}throw new Error("connection failed");case 6:n(t),s(!0),p(t),u(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error when connecting to metamask",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return(0,c.useEffect)((function(){function e(){return(e=g(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:(t=e.sent)&&(n(t),s(!0),p(t),u(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{isConnected:a,signer:t,connect:function(){return y.apply(this,arguments)}}}(),t=e.isConnected,n=e.connect,a=(0,l.t)().accountInfo,s=a.ballance,i=a.address,u=(0,c.useState)(!1),p=u[0],d=u[1],y=(0,c.useState)("auction"),m=y[0],f=y[1];return(0,r.jsxs)("nav",{className:"flex h-96 justify-between bg-cover bg-no-repeat bg-center flex-wrap p-6",style:{backgroundImage:"url('/crypto3.jpg')"},children:[(0,r.jsxs)("div",{className:"flex flex-col mt-5 flex-shrink-0 text-white",children:[(0,r.jsxs)("span",{className:"font-bold p-1 mb-6 text-center rounded-xl text-red-600 border border-red-500 shadow-lg shadow-red-600 lg:ml-24 text-xl lg:text-4xl",children:[(0,r.jsx)("svg",{className:"ml-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",height:36,viewBox:"0 4 48 18",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"inherit",strokeLinejoin:"inherit",strokeWidth:.4,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"DEX"]}),(0,r.jsx)("span",{className:"font-semibold lg:ml-24 text-xl lg:text-3xl",children:"Best Place"}),(0,r.jsx)("span",{className:"font-semibold lg:ml-24 text-xl lg:text-2xl",children:"To Exchange"}),(0,r.jsx)("span",{className:"font-semibold lg:ml-24 text-2xl lg:text-4xl",children:"NFT"})]}),(0,r.jsxs)("div",{className:" flex justify-between flex-col w-auto",children:[(0,r.jsxs)("div",{className:"m-2 self-end",children:[(0,r.jsxs)("button",{onClick:function(){n()},className:"flex items-center text-xl px-4 py-2 leading-none border rounded shadow-md shadow-white text-white border-white hover:bg-white hover:bg-opacity-30 lg:mt-0",children:[(0,r.jsx)("img",{src:"/wallet-icon.svg",className:"p-1",width:28}),(0,r.jsx)("span",{children:t?"Metamask":"Connect Wallet"})]}),t?(0,r.jsxs)("div",{className:"text-white text-sm mt-3 flex flex-col",children:[(0,r.jsxs)("span",{children:["Signer address : ",i.substring(0,5),"...",i.substring(i.length-4,i.length)]}),(0,r.jsxs)("span",{children:["Ballance: ",s.substring(0,6)," ETH"]})]}):null]}),(0,r.jsx)("div",{className:"m-2 self-end",children:(0,r.jsx)(N,{openMakeOrder:function(e){d(!0),f(e)}})})]}),(0,r.jsx)(Q,{isOpen:p,setIsOpen:d,orderType:m})]})},K=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(W,{})})};function G(e,t,n,r,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){G(s,r,a,i,u,"next",e)}function u(e){G(s,r,a,i,u,"throw",e)}i(void 0)}))}}function ee(e){var t=e.isMakeOfferOpen,n=e.orderInfo,a=e.setIsMakeOfferOpen,s=function(e){var t=q(),n=t.bid,r=t.buyItNow,a=e.order,s=e.offerType,i=(0,c.useState)({error:null,success:null}),u=i[0],l=i[1],p=(0,c.useState)(!1),d=p[0],y=p[1],m=(0,c.useState)(a.fixedPrice),f=m[0],x=m[1];function h(){return(h=$(o().mark((function e(){var t,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t="bid"==s?n:r,e.prev=2,e.next=5,t(a.orderId,f);case 5:return i=e.sent,e.next=8,i.wait();case 8:if(1!=e.sent.status){e.next=13;break}y(!1),l({error:null,success:"Success"}),e.next=14;break;case 13:throw Error("transaction failed");case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(2),y(!1),(u=e.t0).error?u.error.message&&l({error:u.error.message,success:null}):l({error:u.message,success:null});case 21:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}return{confirmOffer:function(){return h.apply(this,arguments)},inputHandler:function(e){x(e.target.value)},isProcessing:d,message:u}}(n),i=s.confirmOffer,u=s.inputHandler,l=s.isProcessing,p=s.message,d=n.order,y=d.actualPrice,m=d.fixedPrice,f=d.tokenName,x=d.tokenImageUri,h=d.description,b=function(){a(!1)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(T.uT,{appear:!0,show:t,as:c.Fragment,children:(0,r.jsx)(T.Vq,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:function(){},children:(0,r.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[(0,r.jsx)(T.uT.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(T.Vq.Overlay,{className:"fixed inset-0"})}),(0,r.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)(T.uT.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)("div",{className:"inline-block w-full max-w-xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,r.jsx)(T.Vq.Title,{as:"h3",className:"text-lg text-center font-medium leading-6 text-gray-900",children:"Make Offer"}),(0,r.jsxs)("div",{className:"flex pt-8 flex-row",children:[(0,r.jsxs)("div",{className:"basis-2/4 m-1",children:[p.success?(0,r.jsx)("p",{className:"mt-12 text-green-600 text-base",children:p.success}):null,p.error?(0,r.jsx)("p",{className:"mt-12 text-red-600 text-base",children:p.error}):null,"buyItNow"==n.offerType?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-gray-700 font-semibold pt-6 mb-6 text-base",children:["Buy it Now Price: ",m," ETH"]}),(0,r.jsx)("label",{className:"pl-2 text-blue-300 italic",children:"Your offer: "}),(0,r.jsx)("input",{className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"offerValue",value:m,disabled:!0})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-gray-700 font-semibold pt-6 mb-6 text-base",children:["Actual Price: ",y," ETH"]}),(0,r.jsx)("label",{className:"pl-2 text-blue-300 italic",children:"Your offer: "}),(0,r.jsx)("input",{className:"my-2 p-2 border-2 rounded-md bg-slate-200 disabled:opacity-75",id:"offerValue",onChange:u,placeholder:"Your offer in ETH"})]})]}),(0,r.jsx)("div",{className:"basis-2/4 m-1",children:(0,r.jsxs)("div",{className:"max-w-sm text-center rounded overflow-hidden m-4 shadow-lg",children:[(0,r.jsx)("h3",{className:"p-4 font-bold text-xl text-center m-2",children:f}),(0,r.jsx)("img",{className:"px-4 pl-6",src:x,alt:"crypto1"}),(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsx)("p",{className:"text-gray-700 text-base",children:h})})]})})]}),l?(0,r.jsxs)("div",{className:"text-center flex",children:[(0,r.jsxs)("svg",{role:"status",className:"mr-2 w-6 h-6 text-red-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),"Processing..."]}):p.success?(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{type:"button",className:"m-5 px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",onClick:b,children:"Close"})}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("button",{type:"button",className:"m-5 px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:i,children:"Confirm"}),(0,r.jsx)("button",{type:"button",className:"m-5 px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500",onClick:b,children:"Cancel"})]})]})})]})})})})}var te=function(){var e=(0,E.k)().orders,t=(0,c.useState)(!1),n=t[0],s=t[1],u=(0,c.useState)({orderIndex:0,offerType:""}),o=u[0],l=u[1],p=q(),y=p.claim,m=p.cancelOrder,f=p.fetchOrders,x=e,h=function(e,t){l({orderIndex:e,offerType:t}),s(!0)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"DEX"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(K,{}),(0,r.jsx)("main",{className:"flex flex-wrap justify-center",children:x.map((function(e,t){return(0,r.jsx)(d,{openOffer:h,claim:y,cancelOrder:m,fetchOrders:f,orderIndex:t,orderId:e.orderId,tokenName:e.tokenName,description:e.description,sellerAddress:e.sellerAddress,lastBidderAddress:e.lastBidderAddress,tokenImageUri:e.tokenImageUri,startPrice:e.startPrice,fixedPrice:e.fixedPrice,actualPrice:e.actualPrice,status:e.status,endTime:e.endTime},t)}))}),n?(0,r.jsx)(ee,{isMakeOfferOpen:n,setIsMakeOfferOpen:s,orderInfo:{order:x[o.orderIndex],offerType:o.offerType}}):null,(0,r.jsx)("footer",{className:i().footer,children:"Made by APIFEX"})]})}},214:function(e){e.exports={footer:"Home_footer____T7K"}},6601:function(){}},function(e){e.O(0,[911,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);